


<span id= "20174701">人力看板（高级查询）</span>
----------

```sql
SELECT
	*
FROM
	PDRC_V_Profile
WHERE
	ProfileId IN (
		SELECT DISTINCT
			ProfileId
		FROM
			PDRC_V_Profile
		WHERE
			DomainKey = 'DM01'
		AND SkillKey = 'SK01'
		AND WorkPlaceKey = 'CC02'
		AND stateKey = 'E3566'
	);
```

视图：PDRC_V_Profile

```sql
SELECT
	pwp.WorkPlaceKey,
	d1.[value] AS WorkPlaceName,
	pwp.IsCurrentWorkPlace,
	p.StateKey,
	d2.[value] AS StateName,
	ps.SkillKey SkillKey,
	d3.[value] AS SkillName,
	pd.DomainKey DomainKey,
	d4.[value] AS DomainName,
	pb.ServiceYear,
	p.ID ProfileId,
	p.WorkID WorkID,
	u.username UserName
FROM
	PDRC_Profile p
LEFT OUTER JOIN PDRC_ProfileBaseInfo pb ON p.WorkID = pb.WorkID
LEFT OUTER JOIN PDRC_ProfileSkill ps ON p.ID = ps.ProfileId
LEFT OUTER JOIN PDRC_ProfileDomain pd ON p.id = pd.ProfileId
LEFT OUTER JOIN PDRC_ProfileWorkPlace pwp ON p.id = pwp.ProfileId
LEFT OUTER JOIN PDRC_User u ON u.WorkId = p.WorkID
JOIN PDRC_Dictionary d2 ON d2.KeyName = p.StateKey
LEFT OUTER JOIN PDRC_Dictionary d1 ON d1.KeyName = pwp.WorkPlaceKey
LEFT OUTER JOIN PDRC_Dictionary d3 ON d3.KeyName = SkillKey
LEFT OUTER JOIN PDRC_Dictionary d4 ON d4.KeyName = DomainKey
```